### Пояснення щодо метода

#### Проблема

Іноді виникає потреба в групуванні гео точок. Окрім того координати гео точок можуть бути отримані у вигляді плаского тексту та й ще у різних форматах.

#### Рішення

Застосунок пропонує:

1. розборку текста для пошуку пар гео координат і декількох типових форматах
2. автоматизовану кластерізацію
3. представлення кластерів точок і точок поза кластерами на мапі і в табличному вигляді з оцінкою геометричного розміру кластера. 
4. рішення працює у вигляді веб-сервера або на локальному комп'ютері або на базі Докер-контейнера
5. Докер-контейнер можна запустити на зовнішньому хостингу, наприклад, Heroku

#### Як запустити

Інтерфейс застосунку представлений п'ятьма закладками:

- `Параметри` - завдання вхідних параметрів і даних
- `Мапа` - представлення результату на мапі
- `Текст` - представлення результату у текстовій і табличній формах
- `Допомога` - власне це текст-пояснення, що ви зараз читаєте
- `Приклад` - текст, що містить набір гео точок, для тестування застосунку

#### Параметри

Вхідні параметри і дані складаються з трьох груп: `Розборка тексту на координати`, `Кластеризація точок` і `Відображення`.

##### Розборка тексту на координати

Розборка тексту на координати допускає такі представлення гео координат в тексті для автоматизованого їхнього оброблення:

| Ід   | Опис                                         | Приклад                                                     |
| ---- | -------------------------------------------- | ----------------------------------------------------------- |
| 0    | Десяткова крапка і кома між значеннями       | `qwerty (44.6857, 33.56173); (44.68599 ,33.56555); ...`     |
| 1    | Десяткова кома і дріб (slash) між значеннями | `Lorem ipsum 46,7369/ 32,8103 adsc 46,7373 /32,812 ei ...`  |
| 2    | Десяткова крапка і пробіл:                   | `АБВГД 48.01388 38.796 07:59 АГД 48.0141 38.9056 07:53 ...` |

Також послідовність нотації координат в різних джерелах може відрізнятись, а саме: `Широта, Довгота` або `Довгота, Широта`.

##### Кластеризація точок

Кластеризація точок проводиться з допомогою методу DBSCAN, який має два інтуїтивно зрозумілих параметри:

- `epsilon` - або відстань сусідства це радіус / відстань (м), в межах якого точки вважаються сусідами
- `min_samples` - мінімальна кількість точок для формування кластера

Частина точок, що можуть не попасти до жодного кластеру, утворюють окрему групу. Ці точки називають `outlayers` (тобто поза межами).

##### Відображення

Для оцінки геометричного розміру кластеру проводиться розрахунок діаметру кола (навколо центральної точки), яке вміщує зазначену частину точок (у %).

Також тут можна задати стартовий масштаб відображення мапи.

#### TODO

- [ ] протестувати алгоритм кластеризації на предмет критичних ситуацій (run time errors), поставити заглушки і генерування повідомлень, забезпечення стійкості застосунку, централізована обробка повідомлень про критичні ситуації і генерування спливаючого вікна (pywebio toast або popup)
- [ ] ускладнити парсинг: витягувати опис цілі з тексту: (ліворуч, праворуч, ціль в окремому рядку)
- [ ] розгорнути Докер контейнер на зовнішньому хостингу
  - [встановити Heroku на компі](https://devcenter.heroku.com/articles/heroku-cli#install-the-heroku-cli), залогінитись і набрати команду `heroku stack:set container -a cluster-b`, де останньою зазначена назва застосунку


#### Корисні посилання

- [Qingkai's Blog: Clustering with DBSCAN](http://qingkaikong.blogspot.com/2016/08/clustering-with-dbscan.html)
- [Folium and Geopandas: FeatureGroup for categorial data | Florian Neukirchen](https://www.riannek.de/2022/folium-featuregroup-categorial-data/)
- [Heroku + Docker in 10 Minutes. | by Kay Jan Wong | Towards Data Science](https://towardsdatascience.com/heroku-docker-in-10-minutes-f4329c4fd72f)
- [How to Build and Deploy a Container in Heroku Using a heroku.yml File - YouTube](https://www.youtube.com/watch?v=Z9SJTEC0wEs)